/* @import 'tailwindcss'; */
@import url('https://fonts.googleapis.com/css2?family=Figtree:wght@400..900&display=swap');
@import 'tailwindcss';

/* 1) Theme tokens (so you can use bg-paper, text-green, etc.) */
@theme {
	--color-green: #418d20;
	--color-blue: #2196f3;
	--color-paper: #f8f6f1;
	--color-white: #ffffff;
	--color-black: #000000;
	--color-darker-grey: #575757;
	--color-grey: #919191;
	--color-lightish-grey: #cdcdcd;
	--color-lighter-grey: #eaeaea;

	--font-sans: 'Figtree', system-ui, sans-serif;
}

/* 2) Base type (optional: keeps your Figtree + heading sizes) */
@layer base {
	body {
		--faint: color-mix(in srgb, currentColor 7%, transparent);
		--faintish: color-mix(in srgb, currentColor 40%, transparent);
	}
	html {
		font-size: 16px;
	}

	:root,
	html,
	body {
		@apply font-sans;
		font-optical-sizing: auto;
		font-weight: 500;
	}

	h1 {
		@apply text-[40px] leading-[110%] font-bold;
	}

	h2 {
		@apply text-[26px] leading-[110%] font-bold;
	}

	h3 {
		@apply text-[17px] leading-[110%] font-bold;
	}

	p {
		@apply leading-[130%] font-medium;
	}

	strong,
	b {
		@apply font-bold;
	}

	small {
		@apply text-[13px] leading-[130%] font-medium;
	}

	button,
	select,
	textarea,
	input {
		font-size: inherit;
	}

	textarea {
		line-height: 150%;
	}
}

/* 3) Shim layer â€” re-implement your old classes using @apply */
@layer components {
	/* =========== helpers (layout) =========== */
	.row {
		@apply flex;
	}

	.col {
		@apply flex flex-col;
	}

	.wrap {
		@apply flex flex-wrap;
	}

	.baseline {
		@apply flex items-baseline;
	}

	.apart,
	.space-between {
		@apply flex grow justify-between;
	}

	.middle {
		@apply flex items-center justify-center;
	}

	.centred-col {
		@apply flex flex-col items-center;
	}

	.centred-row {
		@apply flex flex-row items-center justify-center;
	}

	/* =========== ui =========== */
	/* Cards/panels */
	.card {
		@apply relative flex flex-col p-6;
	}

	.panel {
		@apply relative flex max-w-full flex-col p-12;
	}

	/* ========== Page ========== */
	.page {
		@apply relative min-h-[100svh] max-w-[100svw] p-16;
	}

	/* ========== Buttons ========== */
	button,
	.button {
		@apply inline-flex h-12 cursor-pointer items-center gap-[1ch] rounded-[4rem] border-0 px-6 text-base outline-0;
	}

	.button.med,
	button.med {
		@apply h-10;
	}

	.button.small,
	button.small {
		@apply h-7;
	}

	[popover]::backdrop {
		background: #0009;
	}

	/* ========== Form elements ========== */
	input[type='text'],
	input[type='email'],
	input[type='password'],
	input[type='number'],
	input[type='search'],
	input[type='tel'],
	input[type='time'],
	input[type='url'],
	input[type='week'],
	input[type='month'],
	input[type='file'],
	input[type='date'],
	input[type='datetime-local'],
	textarea,
	.contenteditable,
	.input,
	.cell,
	thead,
	td {
		@apply border-lightish-grey rounded-none border-0 border-t bg-transparent p-4 pl-6 font-sans text-base;
	}

	input[type='text']:hover,
	input[type='text']:focus,
	input[type='email']:hover,
	input[type='email']:focus,
	input[type='password']:hover,
	input[type='password']:focus,
	input[type='number']:hover,
	input[type='number']:focus,
	input[type='search']:hover,
	input[type='search']:focus,
	input[type='tel']:hover,
	input[type='tel']:focus,
	input[type='time']:hover,
	input[type='time']:focus,
	input[type='url']:hover,
	input[type='url']:focus,
	input[type='week']:hover,
	input[type='week']:focus,
	input[type='month']:hover,
	input[type='month']:focus,
	input[type='file']:hover,
	input[type='file']:focus,
	input[type='date']:hover,
	input[type='date']:focus,
	input[type='datetime-local']:hover,
	input[type='datetime-local']:focus,
	textarea:hover,
	textarea:focus,
	.input:hover,
	.input:focus,
	.cell:hover,
	.cell:focus {
		@apply bg-white;
	}
	.contenteditable {
		outline: none;
		border: none;
		&:focus,
		&:hover,
		&:active {
			@apply bg-white;
		}
	}

	.input-group {
		@apply focus-within:z-20 focus-within:rounded-md focus-within:outline focus-within:outline-2 focus-within:outline-black;
	}

	input:required:invalid {
		@apply border-t-[1px] border-t-red-500;
	}

	input:required:invalid::placeholder {
		@apply text-red-500;
	}

	input:required:invalid:focus {
		@apply border-t-lighter-grey border-t-[1px];
	}

	input:required:invalid:focus::placeholder {
		@apply text-grey;
	}

	input:disabled,
	.disabled {
		@apply cursor-not-allowed opacity-50;
	}

	.disabled:hover {
		@apply scale-90 line-through;
	}

	/* ========== Layout helpers (migrating off helpers.css) ========== */

	/* Fun bits */
	.tag {
		background-color: var(--faint);
		@apply inline-flex w-fit items-center gap-[1em] rounded-md px-[1em] py-[0.5em];
	}

	.badge {
		@apply inline-flex h-[3ch] w-[3ch] items-center justify-center rounded-full;
	}

	mark {
		@apply rounded-[0.5ch] px-[0.5ch] pb-[0.3ch] text-[0.8rem] font-bold;
	}

	.bubble,
	.bubble-left,
	.bubble-right {
		@apply flex min-h-14 max-w-max items-center gap-4 rounded-3xl p-[2ch];
	}

	.bubble-left {
		@apply self-start rounded-bl-none;
	}

	.bubble-right {
		@apply self-end rounded-br-none;
	}
	.bg-faint {
		background-color: var(--faint);
	}
	.line-grey {
		@apply border-t [border-color:var(--lightish-grey)];
	}
}
